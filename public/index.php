<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Me livrando da maldição</title>
</head>
<body>
    <header id="main-header">
        <img src="johnson_logo_transparent.png" alt="Logo">
        <h1>Sistema de Usuários</h1>
        <div class="header-buttons"> 
            <button id="open-cadastro-modal-btn">Cadastro</button>
            <button id="open-login-modal-btn">Login</button>
        </div>
    </header>
    <main>
        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>E-mail</th>
                    <th>Data de admissão</th>
                    <th>Data e hora do cadastro</th>
                    <th>Data e hora da atualização</th>
                    <th>Situação</th>
                </tr>
            </thead>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
                <tr>
                    <td>João</td>
                    <td>joao@email.com.br</td>
                    <td>01/01/2000</td>
                    <td>01/01/2000 00:00</td>
                    <td>01/01/2000 00:00</td>
                    <td>Ativo</td>
                </tr>
            
            
        </table>
       <?php
       /*
            $empresa = 'Johnson';
            echo "<p>Empresa: $empresa</p>";
            $empresa = str_replace("o","i", $empresa);
            echo "<br>";
            echo "<p>$empresa</p>";
            */
        ?>
    </main>

    <div class="modal-overlay" id="cadastro-modal-overlay">
        <div class="modal-content">
            <button class="close-modal-btn" id="close-cadastro-modal-btn">&times;</button>
            <h2>Cadastro de Administrador</h2>
            <form action="#" method="POST">
                <label for="nome-cadastro">Usuário</label>
                <input type="text" id="nome-cadastro" name="nome" autocomplete="off" maxlength="15" placeholder="Seu usuário" required >

                <label for="senha-cadastro">Senha</label>
                <input type="password" id="senha-cadastro" name="senha" minlength="8" autocomplete="off" placeholder="Sua senha" required >
                <label for="senha-cadastro">Senha</label>
                <input type="password" id="senha-cadastro" name="senha" minlength="8" autocomplete="off" placeholder="Repita a senha" required >

                <label for="admissao-cadastro">KEY</label>
                <input type="text" id="admissao-cadastro" name="data_admissao" autocomplete="off" maxlength="20" placeholder="Chave de acesso" required>

                <button type="submit">Cadastrar</button>
            </form>
        </div>
    </div>
    <div class="modal-overlay" id="login-modal-overlay">
        <div class="modal-content">
            <button class="close-modal-btn" id="close-login-modal-btn">&times;</button>
            <h2>Login de Administrador</h2>
            <form action="#" method="POST">
                <label for="usuario-login">Usuário</label>
                <input type="text" id="usuario-login" name="usuario" autocomplete="off" placeholder="Seu usuário" required>

                <label for="senha-login">Senha</label>
                <input type="password" id="senha-login" name="senha" autocomplete="off" placeholder="Sua senha" required>

                <label for="admissao-cadastro">KEY</label>
                <input type="text" id="admissao-cadastro" name="data_admissao" autocomplete="off" maxlength="20" placeholder="Chave de acesso" required>

                <button type="submit">Entrar</button>
            </form>
        </div>
    </div>

    
    
    
    <script>
        // Seu script JavaScript para o header e a modal
        document.addEventListener('DOMContentLoaded', function() {
            const header = document.getElementById('main-header');
            const scrollThreshold = 100;

            // Elementos da modal de cadastro
            const openCadastroModalBtn = document.getElementById('open-cadastro-modal-btn');
            const cadastroModalOverlay = document.getElementById('cadastro-modal-overlay');
            const closeCadastroModalBtn = document.getElementById('close-cadastro-modal-btn');

            // 1. Script para diminuir o header ao rolar (já existente)
            window.addEventListener('scroll', function() {
                if (window.scrollY > scrollThreshold) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // 2. Script para abrir a modal de cadastro
            openCadastroModalBtn.addEventListener('click', function() {
                cadastroModalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden'; // Impede a rolagem do corpo da página
            });

            // 3. Script para fechar a modal de cadastro pelo botão 'X'
            closeCadastroModalBtn.addEventListener('click', function() {
                cadastroModalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto'; // Restaura a rolagem do corpo da página
            });

            // 4. Script para fechar a modal de cadastro ao clicar no fundo escurecido
            cadastroModalOverlay.addEventListener('click', function(event) {
                // Verifica se o clique foi diretamente no overlay (não no conteúdo da modal)
                if (event.target === cadastroModalOverlay) {
                    cadastroModalOverlay.classList.remove('active');
                    document.body.style.overflow = 'auto'; // Restaura a rolagem do corpo da página
                }
            });

            // (Opcional) Fechar a modal ao pressionar a tecla ESC
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && cadastroModalOverlay.classList.contains('active')) {
                    cadastroModalOverlay.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            
        });
        const keyInput = document.getElementById('admissao-cadastro');
        

        // Listener para o evento 'input' (ocorre sempre que o valor do input muda)
        keyInput.addEventListener('input', function(event) {
           
            this.value = this.value.replace(/[^0-9]/g, '');
        });

        // (Opcional, mas recomendado) Listener para o evento 'keydown' para prevenir caracteres antes de aparecerem
        keyInput.addEventListener('keydown', function(event) {
            // Permite teclas de controle (backspace, delete, setas, tab, enter)
            if (event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Tab' ||
                event.key === 'Enter' || event.key.startsWith('Arrow')) {
                return; // Permite a ação padrão
            }

            // Permite CTRL/CMD + A, C, V, X (selecionar tudo, copiar, colar, cortar)
            if (event.ctrlKey || event.metaKey) {
                return;
            }

            // Bloqueia a digitação se o caractere não for um número
            if (!/^\d$/.test(event.key)) {
                event.preventDefault(); // Impede a ação padrão da tecla (não digita o caractere)
            }
        });

        // ... (código JavaScript existente) ...

document.addEventListener('DOMContentLoaded', function() {
    // ... (código existente para header e modal de cadastro) ...

    // Novos elementos da modal de login
    const openLoginModalBtn = document.getElementById('open-login-modal-btn');
    const loginModalOverlay = document.getElementById('login-modal-overlay');
    const closeLoginModalBtn = document.getElementById('close-login-modal-btn');

    // ... (restante do código para o header e modal de cadastro) ...

    // === NOVOS SCRIPTS PARA A MODAL DE LOGIN ===

    // 5. Script para abrir a modal de login
    openLoginModalBtn.addEventListener('click', function() {
        loginModalOverlay.classList.add('active');
        document.body.style.overflow = 'hidden'; // Impede a rolagem do corpo da página
    });

    // 6. Script para fechar a modal de login pelo botão 'X'
    closeLoginModalBtn.addEventListener('click', function() {
        loginModalOverlay.classList.remove('active');
        document.body.style.overflow = 'auto'; // Restaura a rolagem do corpo da página
    });

    // 7. Script para fechar a modal de login ao clicar no fundo escurecido
    loginModalOverlay.addEventListener('click', function(event) {
        if (event.target === loginModalOverlay) {
            loginModalOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    });

    // (Opcional) Fechar a modal ao pressionar a tecla ESC (para login)
    document.addEventListener('keydown', function(event) {
        // Verifica se a tecla ESC foi pressionada e se a modal de login está ativa
        if (event.key === 'Escape' && loginModalOverlay.classList.contains('active')) {
            loginModalOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        // Nota: O script para a modal de cadastro já está lá, então ambas as modals
        // podem ser fechadas com ESC se estiverem ativas.
    });

    // ... (restante do seu script, como a validação da KEY) ...
});


        
        
    </script>

</body>
</html>